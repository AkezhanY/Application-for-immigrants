<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Ankieta dla Imigrant√≥w - Aplikacja P≈Çock</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#fff;color:#666;min-height:100vh;display:flex;flex-direction:column}
    .header{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;position:relative;z-index:1000;border-bottom:1px solid #f0f0f0}
    .left-icons,.right-icons{display:flex;gap:15px;align-items:center}
    .menu-icon,.phone-icon,.language-icon,.profile-icon,.back-icon{width:24px;height:24px;cursor:pointer;transition:transform .2s ease}
    .menu-icon:hover,.phone-icon:hover,.language-icon:hover,.profile-icon:hover,.back-icon:hover{transform:scale(1.1)}
    .dropdown{position:absolute;top:50px;background:#fff;border:1px solid #e8e8e8;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,.12);display:none;min-width:200px;z-index:1001;overflow:hidden}
    .dropdown.show{display:block}
    .menu-dropdown{left:0}
    .phone-dropdown{left:45px}
    .language-dropdown{right:0;min-width:150px}
    .profile-dropdown{right:45px;min-width:200px}
    .dropdown-header{padding:10px 16px;background:#fafafa;border-bottom:1px solid #eee}
    .verified-badge{color:#2e7d32;font-size:14px;font-weight:600}
    .dropdown-item{padding:12px 16px;cursor:pointer;border-bottom:1px solid #f2f2f2;transition:background .2s ease;color:#444}
    .dropdown-item:last-child{border-bottom:none}
    .dropdown-item:hover{background:#f9f9f9}
    .dropdown-item.phone-item{display:flex;justify-content:space-between;align-items:center}
    .dropdown-item.phone-item .phone-number{color:#ff6b35;font-weight:600}
    .dropdown-item.language-item{display:flex;align-items:center;gap:8px}
    .profile-item.logout{color:#e53935;font-weight:500}
    .flag-emoji{font-size:18px}

    .main-content{flex:1;padding:20px;max-width:700px;margin:0 auto;width:100%}
    .page-title{text-align:center;font-size:24px;color:#ff6b35;margin-bottom:15px;font-weight:700}
    .page-subtitle{text-align:center;font-size:16px;color:#666;margin-bottom:30px;line-height:1.5}

    .survey-form{background:#fff;border-radius:15px;padding:30px;box-shadow:0 8px 25px rgba(0,0,0,.1);border:2px solid #f0f0f0}
    .progress-text{text-align:center;font-size:14px;color:#666;margin-bottom:10px}
    .progress-bar{background:#f0f0f0;height:8px;border-radius:4px;margin-bottom:30px;overflow:hidden}
    .progress-fill{background:linear-gradient(135deg,#ff6b35,#ff8c42);height:100%;border-radius:4px;transition:width .5s ease;width:0%}

    .question-container{margin-bottom:30px;opacity:0;transform:translateY(20px);transition:all .5s ease}
    .question-container.visible{opacity:1;transform:translateY(0)}
    .question-number{background:linear-gradient(135deg,#ff6b35,#ff8c42);color:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px;margin-bottom:15px}
    .question-title{font-size:18px;font-weight:600;color:#333;margin-bottom:15px;line-height:1.4}
    .question-subtitle{font-size:14px;color:#999;margin-bottom:20px;font-style:italic}

    .form-group{display:flex;flex-direction:column}
    .form-input,.form-select{padding:12px 15px;border:2px solid #e0e0e0;border-radius:8px;font-size:16px;color:#666;background:#fff;transition:all .3s ease}
    .form-input:focus,.form-select:focus{outline:none;border-color:#ff6b35;box-shadow:0 0 0 3px rgba(255,107,53,.1)}

    .radio-group,.checkbox-group{display:flex;flex-direction:column;gap:12px}
    .radio-option,.checkbox-option{display:flex;align-items:center;padding:12px 15px;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:all .3s ease}
    .radio-option:hover,.checkbox-option:hover{border-color:#ff6b35;background:#fff8f5}
    .radio-option.selected,.checkbox-option.selected{border-color:#ff6b35;background:#fff8f5}
    input[type="radio"],input[type="checkbox"]{margin-right:12px;accent-color:#ff6b35}
    .radio-label,.checkbox-label{font-size:16px;color:#333;cursor:pointer}

    .submit-button{background:linear-gradient(135deg,#ff6b35,#ff8c42);color:#fff;border:none;padding:15px 40px;border-radius:25px;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px rgba(255,107,53,.3);text-transform:uppercase;letter-spacing:.5px;display:block;margin:30px auto 0;min-width:200px}
    .submit-button:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(255,107,53,.4)}
    .submit-button:disabled{opacity:.6;cursor:not-allowed;transform:none}

    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.3);display:none;z-index:999}
    .overlay.show{display:block}

    @media (max-width:600px){
      .main-content{padding:15px}
      .survey-form{padding:20px}
      .page-title{font-size:20px}
      .question-title{font-size:16px}
      .form-input,.form-select{font-size:14px;padding:10px 12px}
      .radio-option,.checkbox-option{padding:10px 12px}
      .submit-button{font-size:16px;padding:12px 30px}
    }

    
    .dropdown a,.profile-dropdown a,.menu-dropdown a,.language-dropdown a,.phone-dropdown a{text-decoration:none!important;color:#666!important;display:block}
    .dropdown a:visited,.dropdown a:hover,.dropdown a:active{text-decoration:none!important;color:#666!important}
  </style>
</head>
<body>
  <div class="overlay" id="overlay"></div>

  <header class="header">
    <div class="left-icons">
      <a href="index.html" aria-label="Back">
        <svg class="back-icon" id="backIcon" viewBox="0 0 24 24" fill="#ff6b35"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
      </a>

      <svg class="menu-icon" id="menuIcon" viewBox="0 0 24 24" fill="#666"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <div class="dropdown menu-dropdown" id="menuDropdown">
        <div class="dropdown-item" data-link="pierwszeun.html" data-i18n="menuFirst">Pierwsze kroki</div>
        <div class="dropdown-item" data-link="bazawiedzyun.html" data-i18n="menuBase">Baza wiedzy</div>
        <div class="dropdown-item" data-link="pomocun.html" data-i18n="menuHelp">Pomoc</div>
      </div>

      <svg class="phone-icon" id="phoneIcon" viewBox="0 0 24 24" fill="#ff6b35"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
      <div class="dropdown phone-dropdown" id="phoneDropdown">
        <div class="dropdown-item phone-item"><span data-i18n="police">Policja</span><span class="phone-number">997</span></div>
        <div class="dropdown-item phone-item"><span data-i18n="cityOffice">UrzƒÖd Miasta</span><span class="phone-number">24 367 15 00</span></div>
        <div class="dropdown-item phone-item"><span data-i18n="cityGuard">Stra≈º Miejska</span><span class="phone-number">24 367 15 86</span></div>
        <div class="dropdown-item phone-item"><span data-i18n="immigrantCenter">O≈õrodek dla Imigrant√≥w</span><span class="phone-number">24 367 16 50</span></div>
      </div>
    </div>

    <div class="right-icons">
      <svg class="profile-icon" id="profileIcon" viewBox="0 0 24 24" fill="#ff6b35">
        <circle cx="12" cy="12" r="10" stroke="#ff6b35" stroke-width="2" fill="white"/>
        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="#ff6b35"/>
        <circle cx="18" cy="6" r="3" fill="#4CAF50"/>
        <path d="M16.5 6.5l.7.7 1.3-1.3" stroke="white" stroke-width="1" fill="none"/>
      </svg>

      <svg class="language-icon" id="languageIcon" viewBox="0 0 24 24" fill="#ff6b35"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>
    </div>

    
    <div class="dropdown profile-dropdown" id="profileDropdown">
      <div class="dropdown-header"><div class="profile-status"><span class="verified-badge" data-i18n="verified">‚ùå Niezwerfikowany</span></div></div>
      <div class="dropdown-item profile-item" data-link="login.html" data-i18n="profile">Profil</div>
      <div class="dropdown-item profile-item" data-link="ankietaun.html" data-i18n="extraData">Dane dodatkowe</div>
      <div class="dropdown-divider"></div>
      <div class="dropdown-item profile-item logout" data-link="login.html" data-i18n="logout">Zaloguj</div>
    </div>

    
    <div class="dropdown language-dropdown" id="languageDropdown">
      <div class="dropdown-item language-item" data-lang="pl"><span class="flag-emoji">üáµüá±</span><span>Polski</span></div>
      <div class="dropdown-item language-item" data-lang="en"><span class="flag-emoji">üá¨üáß</span><span>English</span></div>
      <div class="dropdown-item language-item" data-lang="ru"><span class="flag-emoji">üá∑üá∫</span><span>–†—É—Å—Å–∫–∏–π</span></div>
    </div>
  </header>

  <main class="main-content">
    <h1 class="page-title" data-i18n="title">ANKIETA DLA IMIGRANT√ìW</h1>
    <p class="page-subtitle" data-i18n="subtitle">Pom√≥≈º nam lepiej poznaƒá Twoje potrzeby, aby≈õmy mogli dostosowaƒá nasze us≈Çugi i informacje specjalnie dla Ciebie. Ankieta jest anonimowa i zajmie oko≈Ço 3‚Äì5 minut.</p>

    <div class="progress-text" data-i18n="progressText">Postƒôp ankiety</div>
    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>

    <form class="survey-form" id="surveyForm">
      
      <div class="question-container visible" data-question="1">
        <div class="question-number">1</div>
        <h3 class="question-title" data-i18n="q1Title">Jakie posiadasz obywatelstwo?</h3>
        <p class="question-subtitle" data-i18n="q1Sub">Informacja ta pomo≈ºe nam dostosowaƒá informacje prawne do Twojej sytuacji</p>
        <div class="form-group">
          <select id="citizenship" name="citizenship" class="form-select" required>
            <option value="" data-i18n="q1Placeholder">Wybierz swoje obywatelstwo</option>
            <option value="UA">üá∫üá¶ Ukraina</option><option value="BY">üáßüáæ Bia≈Çoru≈õ</option><option value="RU">üá∑üá∫ Rosja</option>
            <option value="DE">üá©üá™ Niemcy</option><option value="GB">üá¨üáß Wielka Brytania</option><option value="FR">üá´üá∑ Francja</option>
            <option value="IT">üáÆüáπ W≈Çochy</option><option value="ES">üá™üá∏ Hiszpania</option><option value="NL">üá≥üá± Holandia</option>
            <option value="SE">üá∏üá™ Szwecja</option><option value="NO">üá≥üá¥ Norwegia</option><option value="US">üá∫üá∏ USA</option>
            <option value="CA">üá®üá¶ Kanada</option><option value="IN">üáÆüá≥ Indie</option><option value="CN">üá®üá≥ Chiny</option>
            <option value="JP">üáØüáµ Japonia</option><option value="BR">üáßüá∑ Brazylia</option><option value="TR">üáπüá∑ Turcja</option>
            <option value="EG">üá™üá¨ Egipt</option><option value="MA">üá≤üá¶ Maroko</option>
            <option value="OTHER" data-i18n="q1Other">üåç Inne</option>
          </select>
        </div>
      </div>

     
      <div class="question-container" data-question="2">
        <div class="question-number">2</div>
        <h3 class="question-title" data-i18n="q2Title">Podaj datƒô wjazdu do Polski</h3>
        <p class="question-subtitle" data-i18n="q2Sub">Data pomo≈ºe nam zrozumieƒá, na jakim etapie adaptacji siƒô znajdujesz</p>
        <div class="form-group"><input type="date" id="entryDate" name="entryDate" class="form-input" required></div>
      </div>

      
      <div class="question-container" data-question="3">
        <div class="question-number">3</div>
        <h3 class="question-title" data-i18n="q3Title">Jaki jest g≈Ç√≥wny cel Twojego pobytu w Polsce?</h3>
        <p class="question-subtitle" data-i18n="q3Sub">Wybierz najwa≈ºniejszy pow√≥d Twojego przyjazdu</p>
        <div class="radio-group">
          <label class="radio-option"><input type="radio" name="purposeOfStay" value="work" required><span class="radio-label" data-i18n="q3Work">üíº Praca / Zatrudnienie</span></label>
          <label class="radio-option"><input type="radio" name="purposeOfStay" value="education" required><span class="radio-label" data-i18n="q3Edu">üìö Studia / Edukacja</span></label>
          <label class="radio-option"><input type="radio" name="purposeOfStay" value="family" required><span class="radio-label" data-i18n="q3Family">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ≈ÅƒÖczenie rodzin</span></label>
          <label class="radio-option"><input type="radio" name="purposeOfStay" value="refuge" required><span class="radio-label" data-i18n="q3Refuge">üõ°Ô∏è Ochrona miƒôdzynarodowa</span></label>
          <label class="radio-option"><input type="radio" name="purposeOfStay" value="business" required><span class="radio-label" data-i18n="q3Biz">üè¢ Prowadzenie dzia≈Çalno≈õci gospodarczej</span></label>
          <label class="radio-option"><input type="radio" name="purposeOfStay" value="other" required><span class="radio-label" data-i18n="q3Other">üîÑ Inne</span></label>
        </div>
      </div>

      
      <div class="question-container" data-question="4">
        <div class="question-number">4</div>
        <h3 class="question-title" data-i18n="q4Title">Jak oceniasz sw√≥j obecny poziom znajomo≈õci jƒôzyka polskiego?</h3>
        <p class="question-subtitle" data-i18n="q4Sub">Samoocena pomo≈ºe nam zaproponowaƒá odpowiednie kursy jƒôzykowe</p>
        <div class="radio-group">
          <label class="radio-option"><input type="radio" name="polishLevel" value="none" required><span class="radio-label" data-i18n="q4None">üö´ Nie znam jƒôzyka polskiego</span></label>
          <label class="radio-option"><input type="radio" name="polishLevel" value="basic" required><span class="radio-label" data-i18n="q4Basic">üî§ Podstawowy (rozumiem proste s≈Çowa)</span></label>
          <label class="radio-option"><input type="radio" name="polishLevel" value="intermediate" required><span class="radio-label" data-i18n="q4Mid">üí¨ ≈öredni (prowadzƒô proste rozmowy)</span></label>
          <label class="radio-option"><input type="radio" name="polishLevel" value="advanced" required><span class="radio-label" data-i18n="q4Adv">üìñ Zaawansowany (czytam, piszƒô, rozmawiam)</span></label>
          <label class="radio-option"><input type="radio" name="polishLevel" value="fluent" required><span class="radio-label" data-i18n="q4Fluent">üéØ Bieg≈Çy (w≈Çadam swobodnie)</span></label>
        </div>
      </div>

      
      <div class="question-container" data-question="5">
        <div class="question-number">5</div>
        <h3 class="question-title" data-i18n="q5Title">W jakich obszarach potrzebujesz najwiƒôkszego wsparcia?</h3>
        <p class="question-subtitle" data-i18n="q5Sub">Mo≈ºesz wybraƒá kilka opcji - pomo≈ºemy Ci w priorytetowych sprawach</p>
        <div class="checkbox-group">
          <label class="checkbox-option"><input type="checkbox" name="supportNeeds" value="housing"><span class="checkbox-label" data-i18n="needHousing">üè† Znalezienie mieszkania</span></label>
          <label class="checkbox-option"><input type="checkbox" name="supportNeeds" value="employment"><span class="checkbox-label" data-i18n="needJob">üíº Znalezienie pracy</span></label>
          <label class="checkbox-option"><input type="checkbox" name="supportNeeds" value="language"><span class="checkbox-label" data-i18n="needLang">üó£Ô∏è Nauka jƒôzyka polskiego</span></label>
          <label class="checkbox-option"><input type="checkbox" name="supportNeeds" value="healthcare"><span class="checkbox-label" data-i18n="needHealth">üè• Dostƒôp do opieki zdrowotnej</span></label>
          <label class="checkbox-option"><input type="checkbox" name="supportNeeds" value="education"><span class="checkbox-label" data-i18n="needKidsEdu">üéì Edukacja dzieci</span></label>
          <label class="checkbox-option"><input type="checkbox" name="supportNeeds" value="legal"><span class="checkbox-label" data-i18n="needLegal">‚öñÔ∏è Pomoc prawna i legalizacja pobytu</span></label>
          <label class="checkbox-option"><input type="checkbox" name="supportNeeds" value="social"><span class="checkbox-label" data-i18n="needSocial">üë• Integracja spo≈Çeczna i kulturowa</span></label>
          <label class="checkbox-option"><input type="checkbox" name="supportNeeds" value="financial"><span class="checkbox-label" data-i18n="needFinance">üí∞ Sprawy finansowe i bankowe</span></label>
        </div>
      </div>

      <button type="submit" class="submit-button" id="submitButton" data-i18n="submit">Prze≈õlij ankietƒô</button>
    </form>
  </main>

  <script>
    
    const t={
      pl:{verified:"‚ùå Niezwerfikowany",profile:"Profil",extraData:"Dane dodatkowe",logout:"Zaloguj",menuFirst:"Pierwsze kroki",menuBase:"Baza wiedzy",menuHelp:"Pomoc",police:"Policja",cityOffice:"UrzƒÖd Miasta",cityGuard:"Stra≈º Miejska",immigrantCenter:"O≈õrodek dla Imigrant√≥w",
          title:"ANKIETA DLA IMIGRANT√ìW",subtitle:"Pom√≥≈º nam lepiej poznaƒá Twoje potrzeby, aby≈õmy mogli dostosowaƒá nasze us≈Çugi i informacje specjalnie dla Ciebie. Ankieta jest anonimowa i zajmie oko≈Ço 3‚Äì5 minut.",progressText:"Postƒôp ankiety",
          q1Title:"Jakie posiadasz obywatelstwo?",q1Sub:"Informacja ta pomo≈ºe nam dostosowaƒá informacje prawne do Twojej sytuacji",q1Placeholder:"Wybierz swoje obywatelstwo",q1Other:"üåç Inne",
          q2Title:"Podaj datƒô wjazdu do Polski",q2Sub:"Data pomo≈ºe nam zrozumieƒá, na jakim etapie adaptacji siƒô znajdujesz",
          q3Title:"Jaki jest g≈Ç√≥wny cel Twojego pobytu w Polsce?",q3Sub:"Wybierz najwa≈ºniejszy pow√≥d Twojego przyjazdu",q3Work:"üíº Praca / Zatrudnienie",q3Edu:"üìö Studia / Edukacja",q3Family:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ≈ÅƒÖczenie rodzin",q3Refuge:"üõ°Ô∏è Ochrona miƒôdzynarodowa",q3Biz:"üè¢ Prowadzenie dzia≈Çalno≈õci gospodarczej",q3Other:"üîÑ Inne",
          q4Title:"Jak oceniasz sw√≥j obecny poziom znajomo≈õci jƒôzyka polskiego?",q4Sub:"Samoocena pomo≈ºe nam zaproponowaƒá odpowiednie kursy jƒôzykowe",q4None:"üö´ Nie znam jƒôzyka polskiego",q4Basic:"üî§ Podstawowy (rozumiem proste s≈Çowa)",q4Mid:"üí¨ ≈öredni (prowadzƒô proste rozmowy)",q4Adv:"üìñ Zaawansowany (czytam, piszƒô, rozmawiam)",q4Fluent:"üéØ Bieg≈Çy (w≈Çadam swobodnie)",
          q5Title:"W jakich obszarach potrzebujesz najwiƒôkszego wsparcia?",q5Sub:"Mo≈ºesz wybraƒá kilka opcji - pomo≈ºemy Ci w priorytetowych sprawach",
          needHousing:"üè† Znalezienie mieszkania",needJob:"üíº Znalezienie pracy",needLang:"üó£Ô∏è Nauka jƒôzyka polskiego",needHealth:"üè• Dostƒôp do opieki zdrowotnej",needKidsEdu:"üéì Edukacja dzieci",needLegal:"‚öñÔ∏è Pomoc prawna i legalizacja pobytu",needSocial:"üë• Integracja spo≈Çeczna i kulturowa",needFinance:"üí∞ Sprawy finansowe i bankowe",
          submit:"Prze≈õlij ankietƒô",alertIncomplete:"Proszƒô odpowiedzieƒá na wszystkie pytania przed przes≈Çaniem ankiety.",sending:"Przesy≈Çanie...",sent:"‚úì Przes≈Çano",thanks:"Dziƒôkujemy za wype≈Çnienie ankiety!\n\nTwoje odpowiedzi pomogƒÖ nam lepiej dostosowaƒá nasze us≈Çugi.\n\nZa chwilƒô otrzymasz spersonalizowane rekomendacje.",
          recA:"üìã Sprawd≈∫ specjalne programy pomocowe dla obywateli Twojego kraju",recB:"üÜï Skorzystaj z programu \"Pierwsze 30 dni\"",recC:"üíº Odwied≈∫ Powiatowy UrzƒÖd Pracy w P≈Çocku",recD:"üéì Sprawd≈∫ ofertƒô szk√≥≈Ç wy≈ºszych w P≈Çocku",recE:"üó£Ô∏è Zapisz siƒô na bezp≈Çatny kurs jƒôzyka polskiego",recF1:"üè† Wskaz√≥wki dotyczƒÖce wynajmu mieszkania",recF2:"üè• Jak wybraƒá lekarza rodzinnego"},
      en:{verified:"Guest",profile:"Profile",extraData:"Additional data",logout:"Log in",menuFirst:"First steps",menuBase:"Knowledge base",menuHelp:"Help",police:"Police",cityOffice:"City Office",cityGuard:"City Guard",immigrantCenter:"Immigrant Center",
          title:"SURVEY FOR IMMIGRANTS",subtitle:"Help us understand your needs so we can tailor services and information for you. The survey is anonymous and takes about 3‚Äì5 minutes.",progressText:"Survey progress",
          q1Title:"What is your citizenship?",q1Sub:"This helps us tailor legal info to your situation",q1Placeholder:"Choose your citizenship",q1Other:"üåç Other",
          q2Title:"Enter your date of entry to Poland",q2Sub:"This shows where you are in your adaptation journey",
          q3Title:"What is the main purpose of your stay in Poland?",q3Sub:"Pick the most important reason",q3Work:"üíº Work / Employment",q3Edu:"üìö Studies / Education",q3Family:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family reunification",q3Refuge:"üõ°Ô∏è International protection",q3Biz:"üè¢ Running a business",q3Other:"üîÑ Other",
          q4Title:"How do you rate your current Polish level?",q4Sub:"Self-assessment helps us suggest courses",q4None:"üö´ I don't know Polish",q4Basic:"üî§ Basic (simple words)",q4Mid:"üí¨ Intermediate (simple talks)",q4Adv:"üìñ Advanced (read, write, speak)",q4Fluent:"üéØ Fluent",
          q5Title:"Which areas do you need the most support in?",q5Sub:"You can choose several options",
          needHousing:"üè† Finding housing",needJob:"üíº Finding a job",needLang:"üó£Ô∏è Polish language learning",needHealth:"üè• Access to healthcare",needKidsEdu:"üéì Children's education",needLegal:"‚öñÔ∏è Legal help & residency",needSocial:"üë• Social & cultural integration",needFinance:"üí∞ Finance & banking",
          submit:"Submit survey",alertIncomplete:"Please answer all questions before submitting.",sending:"Sending...",sent:"‚úì Sent",thanks:"Thank you for completing the survey!\n\nYour answers help us tailor services.\n\nYou‚Äôll get personalized recommendations shortly.",
          recA:"üìã Check special assistance programs",recB:"üÜï Use the \"First 30 days\" program",recC:"üíº Visit the labour office in P≈Çock",recD:"üéì Explore universities in P≈Çock",recE:"üó£Ô∏è Enroll in a free Polish course",recF1:"üè† Renting tips",recF2:"üè• Choosing a family doctor"},
      ru:{verified:"–ì–æ—Å—Ç—å",profile:"–ü—Ä–æ—Ñ–∏–ª—å",extraData:"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ",logout:"–í–æ–π—Ç–∏",menuFirst:"–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏",menuBase:"–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π",menuHelp:"–ü–æ–º–æ—â—å",police:"–ü–æ–ª–∏—Ü–∏—è",cityOffice:"–ì–æ—Ä–æ–¥—Å–∫–∞—è —É–ø—Ä–∞–≤–∞",cityGuard:"–ú—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–∂–∞",immigrantCenter:"–¶–µ–Ω—Ç—Ä –¥–ª—è –∏–º–º–∏–≥—Ä–∞–Ω—Ç–æ–≤",
          title:"–ê–ù–ö–ï–¢–ê –î–õ–Ø –ò–ú–ú–ò–ì–†–ê–ù–¢–û–í",subtitle:"–ü–æ–º–æ–≥–∏—Ç–µ –Ω–∞–º –ø–æ–Ω—è—Ç—å –≤–∞—à–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –û–ø—Ä–æ—Å –∞–Ω–æ–Ω–∏–º–Ω—ã–π, –∑–∞–π–º—ë—Ç 3‚Äì5 –º–∏–Ω—É—Ç.",progressText:"–ü—Ä–æ–≥—Ä–µ—Å—Å –∞–Ω–∫–µ—Ç—ã",
          q1Title:"–ö–∞–∫–æ–µ —É –≤–∞—Å –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ?",q1Sub:"–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å —é—Ä–∏–¥–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é",q1Placeholder:"–í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ",q1Other:"üåç –î—Ä—É–≥–æ–µ",
          q2Title:"–£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –≤—ä–µ–∑–¥–∞ –≤ –ü–æ–ª—å—à—É",q2Sub:"–¢–∞–∫ –º—ã –ø–æ–π–º—ë–º —ç—Ç–∞–ø –∞–¥–∞–ø—Ç–∞—Ü–∏–∏",
          q3Title:"–ö–∞–∫–æ–≤–∞ –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è –≤ –ü–æ–ª—å—à–µ?",q3Sub:"–í—ã–±–µ—Ä–∏—Ç–µ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç",q3Work:"üíº –†–∞–±–æ—Ç–∞ / —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ",q3Edu:"üìö –£—á—ë–±–∞ / –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ",q3Family:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –í–æ—Å—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–µ–º—å–∏",q3Refuge:"üõ°Ô∏è –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –∑–∞—â–∏—Ç–∞",q3Biz:"üè¢ –í–µ–¥–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞",q3Other:"üîÑ –î—Ä—É–≥–æ–µ",
          q4Title:"–û—Ü–µ–Ω–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å –ø–æ–ª—å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞",q4Sub:"–°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –ø–æ–º–æ–∂–µ—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å –∫—É—Ä—Å—ã",q4None:"üö´ –ù–µ –∑–Ω–∞—é –ø–æ–ª—å—Å–∫–æ–≥–æ",q4Basic:"üî§ –ë–∞–∑–æ–≤—ã–π",q4Mid:"üí¨ –°—Ä–µ–¥–Ω–∏–π",q4Adv:"üìñ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π",q4Fluent:"üéØ –°–≤–æ–±–æ–¥–Ω—ã–π",
          q5Title:"–í –∫–∞–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö –Ω—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞?",q5Sub:"–ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤",
          needHousing:"üè† –ü–æ–∏—Å–∫ –∂–∏–ª—å—è",needJob:"üíº –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç—ã",needLang:"üó£Ô∏è –ò–∑—É—á–µ–Ω–∏–µ –ø–æ–ª—å—Å–∫–æ–≥–æ",needHealth:"üè• –î–æ—Å—Ç—É–ø –∫ –º–µ–¥–∏—Ü–∏–Ω–µ",needKidsEdu:"üéì –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–µ–π",needLegal:"‚öñÔ∏è –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å –∏ –ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è",needSocial:"üë• –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏ –∫—É–ª—å—Ç—É—Ä–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è",needFinance:"üí∞ –§–∏–Ω–∞–Ω—Å—ã –∏ –±–∞–Ω–∫–∏",
          submit:"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∫–µ—Ç—É",alertIncomplete:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã.",sending:"–û—Ç–ø—Ä–∞–≤–∫–∞...",sent:"‚úì –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ",thanks:"–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã!\n\n–°–∫–æ—Ä–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.",
          recA:"üìã –°–ø–µ—Ü–ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–º–æ—â–∏",recB:"üÜï ¬´–ü–µ—Ä–≤—ã–µ 30 –¥–Ω–µ–π¬ª",recC:"üíº –¶–µ–Ω—Ç—Ä –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –≤ –ü–ª–æ—Ü–∫–µ",recD:"üéì –í—É–∑—ã –ü–ª–æ—Ü–∫–∞",recE:"üó£Ô∏è –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫—É—Ä—Å –ø–æ–ª—å—Å–∫–æ–≥–æ",recF1:"üè† –°–æ–≤–µ—Ç—ã –ø–æ –∞—Ä–µ–Ω–¥–µ",recF2:"üè• –í—ã–±–æ—Ä —Å–µ–º–µ–π–Ω–æ–≥–æ –≤—Ä–∞—á–∞"}
    };

    function applyLang(lang){
      if(!t[lang]) return;
      document.documentElement.lang=lang;
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key=el.getAttribute("data-i18n");
        const attr=el.getAttribute("data-i18n-attr");
        const val=t[lang][key];
        if(val==null) return;
        if(attr){el.setAttribute(attr,val);}else{el.textContent=val;}
      });
    }
    function setLang(lang){localStorage.setItem("lang",lang);applyLang(lang);}
    document.addEventListener("DOMContentLoaded",()=>applyLang(localStorage.getItem("lang")||"pl"));

    
    const menuIcon=document.getElementById('menuIcon');
    const phoneIcon=document.getElementById('phoneIcon');
    const languageIcon=document.getElementById('languageIcon');
    const profileIcon=document.getElementById('profileIcon');
    const menuDropdown=document.getElementById('menuDropdown');
    const phoneDropdown=document.getElementById('phoneDropdown');
    const languageDropdown=document.getElementById('languageDropdown');
    const profileDropdown=document.getElementById('profileDropdown');
    const overlay=document.getElementById('overlay');

    function closeAll(){menuDropdown.classList.remove('show');phoneDropdown.classList.remove('show');languageDropdown.classList.remove('show');profileDropdown.classList.remove('show');overlay.classList.remove('show');}

    menuIcon.addEventListener('click',e=>{e.stopPropagation();closeAll();menuDropdown.classList.toggle('show');overlay.classList.toggle('show');});
    phoneIcon.addEventListener('click',e=>{e.stopPropagation();closeAll();phoneDropdown.classList.toggle('show');overlay.classList.toggle('show');});
    languageIcon.addEventListener('click',e=>{e.stopPropagation();closeAll();languageDropdown.classList.toggle('show');overlay.classList.toggle('show');});
    profileIcon.addEventListener('click',e=>{e.stopPropagation();closeAll();profileDropdown.classList.toggle('show');overlay.classList.toggle('show');});
    overlay.addEventListener('click',closeAll);
    document.addEventListener('click',e=>{if(!e.target.closest('.dropdown')&&!e.target.closest('.menu-icon')&&!e.target.closest('.phone-icon')&&!e.target.closest('.language-icon')&&!e.target.closest('.profile-icon')) closeAll();});
    document.querySelectorAll('.dropdown').forEach(d=>d.addEventListener('click',e=>e.stopPropagation()));

    
    document.querySelectorAll('.menu-dropdown .dropdown-item').forEach(it=>it.addEventListener('click',()=>{const link=it.dataset.link;if(link) location.href=link;closeAll();}));
    document.querySelectorAll('.profile-dropdown .dropdown-item').forEach(it=>it.addEventListener('click',()=>{const link=it.dataset.link;if(link) location.href=link;closeAll();}));
    
    document.querySelectorAll('.language-dropdown .language-item').forEach(it=>it.addEventListener('click',()=>{setLang(it.getAttribute('data-lang'));closeAll();}));
    
    document.querySelectorAll('.phone-dropdown .dropdown-item').forEach(it=>it.addEventListener('click',()=>{const num=it.querySelector('.phone-number').textContent;console.log('Dial:',num);closeAll();}));

    
    const surveyForm=document.getElementById('surveyForm');
    const progressFill=document.getElementById('progressFill');
    const submitButton=document.getElementById('submitButton');
    const totalQuestions=5; let answeredQuestions=0;

    function updateProgress(){const p=(answeredQuestions/totalQuestions)*100;progressFill.style.width=p+'%';submitButton.disabled=answeredQuestions!==totalQuestions;}
    function showNext(n){if(n<totalQuestions){const next=document.querySelector(`[data-question="${n+1}"]`);if(next)setTimeout(()=>next.classList.add('visible'),300);}}
    function answered(n){
      switch(n){
        case 1:return document.getElementById('citizenship').value!=='';
        case 2:return document.getElementById('entryDate').value!=='';
        case 3:return !!document.querySelector('input[name="purposeOfStay"]:checked');
        case 4:return !!document.querySelector('input[name="polishLevel"]:checked');
        case 5:return document.querySelectorAll('input[name="supportNeeds"]:checked').length>0;
        default:return false;
      }
    }
    function recount(){answeredQuestions=0;for(let i=1;i<=totalQuestions;i++) if(answered(i)) answeredQuestions++;updateProgress();}

    document.getElementById('citizenship').addEventListener('change',()=>{recount();if(answered(1))showNext(1);});
    document.getElementById('entryDate').addEventListener('change',()=>{recount();if(answered(2))showNext(2);});
    document.querySelectorAll('input[name="purposeOfStay"]').forEach(r=>r.addEventListener('change',()=>{recount();showNext(3);document.querySelectorAll('.radio-option').forEach(o=>o.classList.remove('selected'));r.closest('.radio-option').classList.add('selected');}));
    document.querySelectorAll('input[name="polishLevel"]').forEach(r=>r.addEventListener('change',()=>{recount();showNext(4);document.querySelectorAll('input[name="polishLevel"]').forEach(x=>x.closest('.radio-option').classList.remove('selected'));r.closest('.radio-option').classList.add('selected');}));
    document.querySelectorAll('input[name="supportNeeds"]').forEach(c=>c.addEventListener('change',()=>{recount();c.closest('.checkbox-option').classList.toggle('selected',c.checked);}))

    surveyForm.addEventListener('submit',e=>{
      e.preventDefault();
      const lang=document.documentElement.lang||'pl';
      if(answeredQuestions<totalQuestions){alert(t[lang].alertIncomplete);return;}
      const f=new FormData(surveyForm);
      const data={citizenship:f.get('citizenship'),entryDate:f.get('entryDate'),purposeOfStay:f.get('purposeOfStay'),polishLevel:f.get('polishLevel'),supportNeeds:f.getAll('supportNeeds'),submittedAt:new Date().toISOString()};
      console.log('Survey:',data);
      submitButton.textContent=t[lang].sending;submitButton.disabled=true;
      setTimeout(()=>{submitButton.textContent=t[lang].sent;submitButton.style.background='linear-gradient(135deg,#4CAF50,#66BB6A)';setTimeout(()=>{alert(t[lang].thanks);recommend(data,lang);},800);},1200);
    });

    function recommend(d,lang){
      const rec=[];
      if(['UA','BY','RU'].includes(d.citizenship)) rec.push(t[lang].recA);
      const days=(Date.now()-new Date(d.entryDate))/86400000; if(days<30) rec.push(t[lang].recB);
      if(d.purposeOfStay==='work') rec.push(t[lang].recC);
      else if(d.purposeOfStay==='education') rec.push(t[lang].recD);
      if(['none','basic'].includes(d.polishLevel)) rec.push(t[lang].recE);
      if(d.supportNeeds.includes('housing')) rec.push(t[lang].recF1);
      if(d.supportNeeds.includes('healthcare')) rec.push(t[lang].recF2);
      console.log('Recommendations:',rec);
    }

    
    updateProgress();
    const today=new Date().toISOString().split('T')[0];
    const minDate=new Date();minDate.setFullYear(minDate.getFullYear()-10);
    document.getElementById('entryDate').setAttribute('max',today);
    document.getElementById('entryDate').setAttribute('min',minDate.toISOString().split('T')[0]);
  </script>
</body>
</html>
